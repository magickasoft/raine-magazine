<!--
  Generated template for the CategoryPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<!-- <ion-header>

  <ion-navbar>
    <ion-title>Category</ion-title>
  </ion-navbar>

</ion-header> -->


<ion-content class="category">
  <!-- Pull to refresh -->
  <ion-refresher (ionRefresh)="doRefresh($event)">
    <ion-refresher-content refreshingSpinner="circles"></ion-refresher-content>
  </ion-refresher>

  <div class="category-box">
    <button clear navPop><ion-icon name="close"></ion-icon></button>
    <img src="build/assets/category-banner.jpg" class="banner-image">
    <h1 class="text-center">{{CategoryTitle}}</h1>
    <h6 class="category-label">{{CountPosts}} Results</h6>
  </div>
  <div class="category-content">

    <!-- Error Dialog -->
    <div class="mg-error-box" *ngIf="didNotLoad">
      <h1>
        <ion-icon name="alert"></ion-icon>
      </h1>
      <h3 class="bold-weight">Hmmm. Something's not right.</h3>
      <p>Data didn't load. Try again</p>
      <button primary (click)="loadCategoryPosts()">Reload</button>
    </div>
    <!-- End Error Dialog -->

    <div class="mini-post-section category-view">
      <ion-list>
        <mini-post *ngFor="let relatedPost of relatedPostsData"
        miniPostTitle="{{relatedPost.miniPostTitle}}"
        miniPostImage="{{relatedPost.miniPostImage}}"
        miniPostID="{{relatedPost.miniPostID}}"
        (onPostClick)="gotoDetailPost($event)"
        ></mini-post>
      </ion-list>
    </div>
  </div>
</ion-content>
